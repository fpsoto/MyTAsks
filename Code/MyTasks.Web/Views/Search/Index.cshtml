@using MyTasks.Localization.Desktop
@model MyTasks.Web.Models.SearchViewModel
@using GridMvc.Html

@{
    ViewBag.Title = Desktop.Search;
}

@using (Html.BeginForm("index","Search",FormMethod.Get))
{
    <div style="margin-top: 20px" class="well bs-component">
        <h4>@Desktop.SearchTickets</h4>

        <div id="TicketSearchFilters">
            <div class="form-horizontal">
                <fieldset>
                    <div class="row-fluid">
                        <div class="form-group">
                            <label class="control-label col-lg-2" for="ProjectId">@Desktop.Project</label>
                            <div class="col-lg-2">
                                @Html.DropDownListFor(m => m.SelectedProjectId, new SelectList(Model.Projects, "ProjectId", "ProjectName"), @Desktop.SelectAll, htmlAttributes: new { @class = "form-control" })
                            </div>
                            @*<label class="control-label col-lg-2" for="AreaId">@Desktop.Area</label>
                            <div class="col-lg-2">
                                <select id="areas" name="areas" class="form-control"></select>
                            </div>*@
                                <label class="control-label col-lg-2" for="CategoryId">@Desktop.Category</label>
                            <div class="col-lg-2">
                                @Html.DropDownListFor(m => m.SelectedCategoryId, new SelectList(Model.Categories, "CategoryId", "Name"), @Desktop.SelectAll, htmlAttributes: new { @class = "form-control" })
                                
                            </div>
                        </div>
                        <div class="form-group">
                              <label class="control-label col-lg-2" for="Id">@Desktop.AssignTo</label>
                            <div class="col-lg-2">
                                @Html.DropDownListFor(m => m.SelectedUserId, new SelectList(Model.UserList, "Id", "UserName"), @Desktop.SelectAll, htmlAttributes: new { @class = "form-control" })
                            </div>
                              <label class="control-label col-lg-2" for="PriorityId">@Desktop.Priority</label>
                              <div class="col-lg-2">
                                  @Html.DropDownListFor(m => m.SelectedPriorityId, new SelectList(Model.Priorities, "PriorityId", "Name"), @Desktop.SelectAll, htmlAttributes: new { @class = "form-control" })
                              </div>
                            </div>
                        <div class="form-group">
                            <div class="col-lg-10 pull-right">
                                <div class="row-fluid">
                                    <button class="btn btn-primary" id="btnSubmit" type="submit">
                                        @Desktop.Search
                                    </button>
                                </div>
                            </div>
                        </div>
                        @*@Html.HiddenFor(model => model.AreaId)*@
                    </div>
                </fieldset>

            </div>
        </div>
        <table style="width: 100%">
            <tr>
                <td>
                    @if (Model.SearchResult != null)
                    {
                        @Html.Partial("Displaygrid", Model.SearchResult);
                    }
                </td>
            </tr>
        </table>
    </div>
}




