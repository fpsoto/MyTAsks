@using MyTasks.Localization.Desktop
@model MyTasks.Domain.DataContracts.TicketData



@using (Html.BeginForm("Create", "Ticket", method: FormMethod.Post, htmlAttributes: new { @encType = "multipart/form-data" }))
{
    <div style="margin-top: 20px" class="well">
        <div>
            <div class="form-horizontal">
                <fieldset>
                    <legend>@Desktop.AddTicket</legend>
                    <div class="row-fluid">
                        <div class="form-group">
                            <label class="control-label col-lg-2" for="Title">@Desktop.Title</label>
                            <div class="col-lg-10">
                                @Html.TextBoxFor(model => model.Title, new {@class = "form-control title"})
                                @Html.ValidationMessageFor(model => model.Title, "*")
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-2" for="ProjectId">@Desktop.Project</label>
                            <div class="col-lg-2">
                                @Html.DropDownList("ProjectId", ViewBag.projectList as SelectList, @Desktop.SelectAProject, htmlAttributes: new {@class = "form-control"})
                                @Html.ValidationMessageFor(model => model.ProjectId, "*")
                            </div>

                            <label class="control-label col-lg-2" for="AreaId">@Desktop.Area</label>
                            <div class="col-lg-2">
                                <select id="areas" name="areas" class="form-control"></select>
                                @Html.ValidationMessageFor(model => model.AreaId, "*")
                            </div>

                            <label class="control-label col-lg-2" for="CategoryId">@Desktop.Category</label>
                            <div class="col-lg-2">
                                @Html.DropDownList("CategoryId", ViewBag.CategoryList as SelectList, @Desktop.SelectACategory, htmlAttributes: new {@class = "form-control"})
                                @Html.ValidationMessageFor(model => model.CategoryId, "*")
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-lg-2" for="Id">@Desktop.AssignTo</label>
                            <div class="col-lg-2">
                                @Html.DropDownList("UserId", ViewBag.UserList as SelectList, @Desktop.SelectAnUser, htmlAttributes: new {@class = "form-control"})
                                @Html.ValidationMessageFor(model => model.UserId, "*")
                            </div>

                            <label class="control-label col-lg-2" for="PriorityId">@Desktop.Priority</label>
                            <div class="col-lg-2">
                                @Html.DropDownList("PriorityId", ViewBag.PriorityList as SelectList, @Desktop.SelectAPriority, htmlAttributes: new {@class = "form-control"})
                                @Html.ValidationMessageFor(model => model.PriorityId, "*")
                            </div>

                            <label class="col-lg-2 control-label" for="Billiable">@Desktop.IsBilliable</label>
                            <div class="col-lg-2 control-label">
                                @Html.CheckBoxFor(model => model.IsBillable, new {@class = "pull-left"})
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Content, new {@class = "col-lg-2 control-label"})
                            @Html.ValidationMessageFor(model => model.Content, "*")
                            <div class="col-lg-10">
                                <div class="row-fluid">
                                    @Html.TextAreaFor(model => model.Content, new {@class = "form-control", @row = 5})
                                </div>
                                <div class="row-fluid">
                                    <div class="editor-field">
                                        <input type="file" name="file" multiple="multiple"/>
                                    </div>
                                </div>
                                <br/>
                                <div class="row-fluid">
                                    <button class="btn btn-primary" id="btnSubmit" type="submit">
                                        @Desktop.Submit
                                    </button>
                                    &nbsp;&nbsp;<span style="vertical-align: bottom">  @Desktop.Or </span>&nbsp;&nbsp;
                                    @Html.ActionLink(Desktop.Cancel, "Index", "Ticket", null, new {@style = "vertical-align: bottom;"})
                                </div>
                                <div class="row-fluid">
                                    @Html.ValidationSummary()
                                </div>
                            </div>
                        </div>
                    </div>
                   
                    @Html.HiddenFor(model => model.AreaId)
                </fieldset>

            </div>    
        </div>
        
    </div>
}

